<html>
  <head>
    <title>Demos for http://4ydx.com</title>
    <meta name="keywords" content="4ydx, programming, perl, c, php, ruby, mojolicious, rails, html, css, json, javascript, github, jquery">
    <meta name="description" content="Programming for fun and freedom.">
    <script type="text/javascript" src="js/jquery-1.7.js"></script>
    <script type="text/javascript" src="js/jquery.messaging.js"></script>
    <script>
      function send_message() {
        $("#test_iframe").messaging('send', $("#message").val());
      }
      $(document).ready(function() {
        $("#url").html(document.domain);
        $("#test_iframe").messaging('init', 
        { 'state' : 'send_only', 'domain' : 'http://demo.japanified.com' });
      });
    </script>
    <style>
      iframe {
        width: 90%;
      }
      center {
        text-align: left;
      }
      button {
        margin-bottom: 15px;
      }
      span {
        color: green;
      }
    </style>
  </head>
  <body>
    <center>
      <p>Visit <a href="http://4ydx.com">http://4ydx.com</a> for details and 
      <a href="https://github.com/4ydx">https://github.com/4ydx</a> for code.</p>
      <form onsubmit="send_message(); return false;">
        Current Domain: <span id="url"></span>
        <br>
        Send Message: <input id="message" type="text"></input>
        <br>
        <input type="submit" value="Send" />
      </form>
      <!-- 
      We are talking across domains :)
      -->
      <br>
      <iframe id="test_iframe" src="http://demo.japanified.com/receiver.html"></iframe>
      <p>Note that this demo does not permit messages back from the receiving domain.</p>
      <br>
      <a href="http://demo.4ydx.com">Back</a>
    </center>
  </body>
</html>
